{
  "file": "./relationalIndexing.test-utils.ts",
  "tests": [
    {
      "export": "runRelationalIndexingScenario",
      "conditions": [],
      "operation": "DEEP_EQUALS",
      "expectation": {
        "outgoingPage1": {
          "edges": [
            {
              "key": {
                "from": "a",
                "to": "b",
                "relation": "owns"
              },
              "metadata": {
                "weight": 1
              }
            }
          ],
          "nextCursor": "eyJ2IjoxLCJ0IjoicmVsIiwibGFzdElkIjoiYiJ9"
        },
        "outgoingPage2": {
          "edges": [
            {
              "key": {
                "from": "a",
                "to": "c",
                "relation": "owns"
              },
              "metadata": {
                "weight": 2
              }
            }
          ]
        },
        "incomingPage": {
          "edges": [
            {
              "key": {
                "from": "a",
                "to": "b",
                "relation": "owns"
              },
              "metadata": {
                "weight": 1
              }
            }
          ]
        },
        "relationalCursor": "eyJ2IjoxLCJ0IjoicmVsIiwibGFzdElkIjoiYiIsImNvbnRpbnVhdGlvblRva2VuIjoidG9rZW4tMSJ9",
        "relationalCursorDecoded": {
          "lastId": "b",
          "continuationToken": "token-1"
        },
        "ddbSchema": {
          "tableName": "RelationEdges",
          "partitionKey": "edgeKey",
          "sortKey": "otherId",
          "metadataAttribute": "metadata"
        },
        "ddbKey": {
          "edgeKey": "a\u0000owns\u0000out",
          "otherId": "b"
        },
        "ddbItem": {
          "edgeKey": "a\u0000owns\u0000out",
          "otherId": "b",
          "metadata": {
            "weight": 1
          }
        },
        "ddbPartitionKey": "a\u0000owns\u0000out",
        "ddbPage1": {
          "edges": [
            {
              "key": {
                "from": "a",
                "to": "b",
                "relation": "owns"
              },
              "metadata": {
                "weight": 1
              }
            }
          ],
          "nextCursor": "eyJ2IjoxLCJ0IjoicmVsIiwiY29udGludWF0aW9uVG9rZW4iOiJ7XCJlZGdlS2V5XCI6XCJhXFx1MDAwMG93bnNcXHUwMDAwb3V0XCIsXCJvdGhlcklkXCI6XCJiXCJ9In0"
        },
        "ddbPage2": {
          "edges": [
            {
              "key": {
                "from": "a",
                "to": "c",
                "relation": "owns"
              },
              "metadata": {
                "weight": 2
              }
            }
          ]
        },
        "ddbAfterRemove": {
          "edges": [
            {
              "key": {
                "from": "a",
                "to": "c",
                "relation": "owns"
              },
              "metadata": {
                "weight": 2
              }
            }
          ]
        },
        "handlerPut": {
          "statusCode": 200,
          "body": "{\"ok\":true}"
        },
        "handlerQuery": {
          "statusCode": 200,
          "body": "{\"edges\":[{\"key\":{\"from\":\"x\",\"to\":\"y\",\"relation\":\"likes\"}}]}"
        }
      }
    }
  ]
}
